{{- include "camellia-redis-proxy.clusterCommon" . }}
  clusterDefinitionRef: camellia-redis-proxy
  clusterVersionRef: {{ .Values.version }}
  componentSpecs:
    - name: proxy
      componentDef: camellia-redis-proxy
      componentDefRef: camellia-redis-proxy # ref clusterDefinition componentDefs.name, it would be ignored if componentDef is set, just for compatibility
      {{- include "kblib.componentMonitor" . | indent 6 }}
      {{- include "camellia-redis-proxy.replicaCount" . | indent 6 }}
      serviceAccountName: {{ include "kblib.serviceAccountName" . }}
      switchPolicy:
        type: Noop
      {{- include "kblib.componentResources" . | indent 6 }}
      {{- include "kblib.componentStorages" . | indent 6 }}
      {{- include "kblib.componentServices" . | indent 6 }}